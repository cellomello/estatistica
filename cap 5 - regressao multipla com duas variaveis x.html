<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Infogr√°fico: Entendendo a Regress√£o M√∫ltipla (com 2 Vari√°veis X)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            scroll-behavior: smooth;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px; /* Base height */
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
                max-height: 450px;
            }
        }
        .stat-card {
             background-color: #f8fafc; /* Lighter background for cards */
             border-left: 5px solid #48CAE4; /* Palette Light Blue Accent */
             padding: 1rem;
             border-radius: 0.5rem;
             margin-bottom: 1rem;
             box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06); /* Material shadow */
             transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
         .section-title {
            font-size: 1.875rem; /* text-3xl */
            font-weight: 700; /* font-bold */
            color: #0077B6; /* Palette Dark Blue */
            margin-bottom: 1.5rem; /* mb-6 */
            text-align: center;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid #90E0EF; /* Palette Lighter Blue */
            display: inline-block;
        }
        .section-container {
            text-align: center; /* Center the title block */
             margin-bottom: 4rem; /* mb-16 */
        }
        .highlight {
            color: #00B4D8; /* Palette Medium Blue */
            font-weight: 600;
        }
        .equation {
            font-family: monospace;
            background-color: #E0F7FA; /* Very Light Blue */
            padding: 0.75rem 1rem;
            border-radius: 0.375rem;
            display: inline-block;
            color: #0077B6; /* Palette Dark Blue */
            font-size: 1.2rem;
            margin-top: 0.5rem;
            margin-bottom: 1rem;
            border: 1px solid #CAF0F8; /* Palette Lightest Blue */
        }
         .step-indicator {
             background-color: #0096C7; /* Palette Blue */
             color: white;
             border-radius: 50%;
             width: 2.5rem;
             height: 2.5rem;
             display: inline-flex;
             align-items: center;
             justify-content: center;
             font-weight: bold;
             margin-right: 0.75rem;
             flex-shrink: 0; /* Prevent shrinking in flex layouts */
        }
        .process-step {
            display: flex;
            align-items: flex-start; /* Align icon with first line of text */
            margin-bottom: 1.5rem;
        }
        .process-text {
            flex-grow: 1; /* Allow text to take remaining space */
        }
        .tooltip-custom {
            position: relative;
            display: inline-block;
        }
        .tooltip-custom .tooltiptext-custom {
            visibility: hidden;
            width: 160px;
            background-color: #073B4C; /* Dark blue from brilliant blues */
            color: #fff;
            text-align: center;
            border-radius: 6px;
            padding: 5px 8px;
            position: absolute;
            z-index: 1;
            bottom: 125%; /* Position above the text */
            left: 50%;
            margin-left: -80px; /* Use half of the width to center */
            opacity: 0;
            transition: opacity 0.3s;
            font-size: 0.8rem;
        }

        .tooltip-custom:hover .tooltiptext-custom {
            visibility: visible;
            opacity: 1;
        }
        /* Palette: Brilliant Blues (#0077B6, #0096C7, #00B4D8, #48CAE4, #90E0EF, #ADE8F4, #CAF0F8) */
        /* Narrative Plan: 1. Intro (What/Why), 2. The Process (Steps 1-5), 3. Interpretation & Use (Steps 1-4), 4. Conclusion */
        /* Visualization Choices:
             - Section 1: Icon (Unicode ‚úàÔ∏è for plane), Text. Goal: Inform. Method: Unicode/HTML. NO SVG.
             - Section 2: Flowchart-like steps (HTML/CSS numbered items/arrows). Goal: Organize. Method: HTML/CSS/Unicode. NO SVG.
                 - Step 3 (Relations): Mini scatter (HTML dots), Correlation symbols (+/-/0). Goal: Relationships. Method: HTML/CSS/Unicode. NO SVG.
                 - Step 4 (Multicollinearity): Correlation symbol + Warning (‚ö†Ô∏è). Goal: Inform. Method: Unicode/HTML. NO SVG.
                 - Step 5 (Model Equation): Formatted equation. Goal: Inform. Method: HTML/CSS. NO SVG.
             - Section 3:
                 - Step 1 (Interpret): Text explanation with icons (e.g., ‚è∏Ô∏è for holding constant). Goal: Inform. Method: HTML/CSS/Unicode. NO SVG.
                 - Step 2 (Test Sig.): p-value check (p < Œ±, ‚úîÔ∏è/‚ùå). Goal: Inform. Method: HTML/CSS/Unicode. NO SVG.
                 - Step 3 (Predict): Equation reuse. Goal: Inform. Method: HTML/CSS. NO SVG.
                 - Step 4 (Check Fit): Condition list (‚úîÔ∏è), illustrative residual plot (HTML dots), R¬≤ Adj display. Goal: Relationships/Inform/Organize. Method: HTML/CSS/Unicode. NO SVG. Chart.js Scatter y vs ≈∑. Goal: Relationships. Method: Chart.js Canvas. NO SVG.
             - Section 4: Summary text, icon (üí°). Goal: Inform. Method: HTML/CSS/Unicode. NO SVG.
             - Overall: Strictly adhering to NO SVG, NO Mermaid JS. Chart.js used via Canvas. Diagrams use HTML/CSS/Unicode. */
        /* Mermaid JS Not Used */
        /* SVG Not Used */
    </style>
</head>
<body class="bg-gradient-to-br from-[#CAF0F8] via-[#ADE8F4] to-[#90E0EF] text-[#0077B6]">

    <header class="bg-[#0077B6] text-white py-6 shadow-lg sticky top-0 z-10">
        <div class="container mx-auto px-6 text-center">
            <h1 class="text-3xl md:text-4xl font-bold">Regress√£o M√∫ltipla: Prevendo com M√∫ltiplos Fatores</h1>
            <p class="mt-2 text-lg text-[#CAF0F8]">Usando duas vari√°veis (X‚ÇÅ, X‚ÇÇ) para entender melhor a resposta (Y).</p>
        </div>
    </header>

    <main class="container mx-auto px-6 py-12">

        <section id="o-que-e" class="section-container">
            <h2 class="section-title">‚úàÔ∏è O Que √â e Porqu√™ Usar?</h2>
            <div class="bg-white rounded-lg shadow-xl p-8 md:p-10 text-lg max-w-4xl mx-auto text-left space-y-4 text-[#0077B6]">
                <p>A Regress√£o M√∫ltipla com duas vari√°veis X expande a regress√£o linear simples. Em vez de uma reta, modelamos um <span class="highlight">plano</span> para prever a vari√°vel de resposta quantitativa <span class="highlight">(Y)</span> usando <span class="highlight">duas</span> vari√°veis explicativas quantitativas <span class="highlight">(X‚ÇÅ e X‚ÇÇ)</span>.</p>
                <p>√â ideal quando acreditamos que m√∫ltiplos fatores influenciam o resultado Y e queremos entender seus efeitos combinados e individuais.</p>
                <p class="font-semibold">Exemplo:</p>
                <p class="ml-4">Prever <span class="highlight">Vendas (Y)</span> de um produto com base nos gastos em <span class="highlight">Publicidade na TV (X‚ÇÅ)</span> <span class="font-bold">E</span> nos gastos em <span class="highlight">Publicidade em Jornais (X‚ÇÇ)</span>.</p>
            </div>
        </section>

        <section id="o-processo" class="section-container">
            <h2 class="section-title">‚öôÔ∏è O Processo de Constru√ß√£o do Modelo</h2>
             <p class="text-center text-lg mb-8 max-w-3xl mx-auto text-[#0077B6]">Construir um modelo de regress√£o m√∫ltipla envolve v√°rios passos cuidadosos:</p>
            <div class="bg-white rounded-lg shadow-xl p-8 md:p-10 max-w-4xl mx-auto text-left text-[#0077B6]">
                 <div class="process-step">
                    <span class="step-indicator">1</span>
                    <div class="process-text">
                        <h3 class="font-semibold text-xl mb-1">Identificar Vari√°veis</h3>
                        <p>Listar potenciais X‚ÇÅ e X‚ÇÇ que podem prever Y.</p>
                    </div>
                </div>
                 <div class="process-step">
                    <span class="step-indicator">2</span>
                     <div class="process-text">
                        <h3 class="font-semibold text-xl mb-1">Coletar Dados</h3>
                        <p>Reunir dados completos (Y, X‚ÇÅ, X‚ÇÇ) para cada observa√ß√£o na amostra.</p>
                     </div>
                </div>
                 <div class="process-step">
                    <span class="step-indicator">3</span>
                    <div class="process-text">
                        <h3 class="font-semibold text-xl mb-1">Verificar Rela√ß√µes X vs. Y</h3>
                        <p class="mb-2">Analisar separadamente a rela√ß√£o de cada X com Y:</p>
                        <ul class="list-disc list-inside ml-4 space-y-1 text-sm">
                            <li><span class="font-semibold">Diagrama de Dispers√£o:</span> Visualizar (X‚ÇÅ, Y) e (X‚ÇÇ, Y). Procurar padr√µes lineares.</li>
                            <li><span class="font-semibold">Correla√ß√£o (r):</span> Calcular r(X‚ÇÅ, Y) e r(X‚ÇÇ, Y). Testar signific√¢ncia. Descartar X's sem rela√ß√£o forte.</li>
                        </ul>
                    </div>
                 </div>
                 <div class="process-step">
                     <span class="step-indicator">4</span>
                     <div class="process-text">
                         <h3 class="font-semibold text-xl mb-1">Verificar Multicolinearidade <span class="text-red-500 tooltip-custom">‚ö†Ô∏è<span class="tooltiptext-custom">Aten√ß√£o! Problema potencial.</span></span></h3>
                        <p class="mb-2">Analisar a rela√ß√£o <span class="highlight">entre</span> as vari√°veis explicativas (X‚ÇÅ vs. X‚ÇÇ):</p>
                        <ul class="list-disc list-inside ml-4 space-y-1 text-sm">
                            <li><span class="font-semibold">Correla√ß√£o (r):</span> Calcular r(X‚ÇÅ, X‚ÇÇ).</li>
                             <li><span class="font-semibold text-red-600">Problema:</span> Se |r(X‚ÇÅ, X‚ÇÇ)| for muito alto (ex: > 0.8), h√° multicolinearidade. Dificulta a interpreta√ß√£o dos efeitos individuais.</li>
                            <li><span class="font-semibold text-green-600">Solu√ß√£o:</span> Geralmente, incluir apenas <span class="underline">uma</span> das vari√°veis X altamente correlacionadas no modelo final.</li>
                        </ul>
                    </div>
                 </div>
                 <div class="process-step">
                     <span class="step-indicator">5</span>
                    <div class="process-text">
                        <h3 class="font-semibold text-xl mb-1">Encontrar Modelo de Melhor Ajuste</h3>
                        <p>Usar software estat√≠stico para calcular os coeficientes da equa√ß√£o:</p>
                        <div class="equation">≈∑ = b‚ÇÄ + b‚ÇÅX‚ÇÅ + b‚ÇÇX‚ÇÇ</div>
                        <p class="text-sm">Onde `b‚ÇÄ` √© o interceto, `b‚ÇÅ` √© o coeficiente de X‚ÇÅ, e `b‚ÇÇ` √© o coeficiente de X‚ÇÇ.</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="usando-modelo" class="section-container">
            <h2 class="section-title">üí° Interpreta√ß√£o e Uso do Modelo</h2>
            <p class="text-center text-lg mb-8 max-w-3xl mx-auto text-[#0077B6]">Ap√≥s encontrar a equa√ß√£o, precisamos entender o que ela significa e se √© confi√°vel.</p>
            <div class="bg-white rounded-lg shadow-xl p-8 md:p-10 max-w-4xl mx-auto text-left text-[#0077B6]">
                <div class="process-step">
                     <span class="step-indicator">1</span>
                    <div class="process-text">
                        <h3 class="font-semibold text-xl mb-1">Interpretar Coeficientes (b‚ÇÅ, b‚ÇÇ)</h3>
                        <p class="mb-2">Cada `b·µ¢` mostra a altera√ß√£o m√©dia em `≈∑` quando `X·µ¢` aumenta 1 unidade, <span class="highlight font-semibold tooltip-custom">mantendo a outra vari√°vel X constante <span class="text-2xl ml-1">‚è∏Ô∏è</span><span class="tooltiptext-custom">Este √© o ponto crucial da regress√£o m√∫ltipla!</span></span>.</p>
                        <p class="text-sm italic">Ex: "Um aumento de R$1000 em TV (X‚ÇÅ) aumenta as vendas (Y) em R$162.110, <span class="underline">se os gastos em jornais (X‚ÇÇ) n√£o mudarem</span>."</p>
                    </div>
                 </div>
                 <div class="process-step">
                    <span class="step-indicator">2</span>
                     <div class="process-text">
                         <h3 class="font-semibold text-xl mb-1">Testar Signific√¢ncia dos Coeficientes</h3>
                        <p class="mb-2">Verificar se cada vari√°vel X contribui significativamente para o modelo (controlando pela outra).</p>
                        <ul class="list-disc list-inside ml-4 space-y-1 text-sm">
                            <li><span class="font-semibold">Teste t (para cada b·µ¢):</span> H‚ÇÄ: Œ≤·µ¢ = 0 (sem efeito) vs H<0xE2><0x82><0x90>: Œ≤·µ¢ ‚â† 0 (com efeito).</li>
                            <li><span class="font-semibold">Decis√£o (Valor-p):</span> Se valor-p < Œ± (geralmente 0.05) ‚û°Ô∏è Rejeitar H‚ÇÄ <span class="text-green-500">‚úîÔ∏è</span>. A vari√°vel √© significativa.</li>
                            <li><span class="font-semibold text-gray-500">Sen√£o:</span> N√£o rejeitar H‚ÇÄ <span class="text-red-500">‚ùå</span>. A vari√°vel pode n√£o ser necess√°ria no modelo.</li>
                        </ul>
                    </div>
                </div>
                <div class="process-step">
                     <span class="step-indicator">3</span>
                    <div class="process-text">
                        <h3 class="font-semibold text-xl mb-1">Fazer Previs√µes (Estimativas `≈∑`)</h3>
                        <p>Substituir valores espec√≠ficos de X‚ÇÅ e X‚ÇÇ na equa√ß√£o `≈∑ = b‚ÇÄ + b‚ÇÅX‚ÇÅ + b‚ÇÇX‚ÇÇ`.</p>
                         <p class="text-sm text-red-600"><span class="font-bold">Cuidado:</span> Evitar extrapola√ß√£o (usar valores de X fora do intervalo dos dados originais).</p>
                    </div>
                </div>
                <div class="process-step">
                     <span class="step-indicator">4</span>
                    <div class="process-text">
                        <h3 class="font-semibold text-xl mb-1">Verificar Ajuste e Condi√ß√µes</h3>
                        <p class="mb-2">Garantir a confiabilidade do modelo:</p>
                        <ul class="list-disc list-inside ml-4 space-y-1 text-sm mb-4">
                            <li><span class="font-semibold">Condi√ß√µes dos Res√≠duos (`y - ≈∑`):</span> Devem ser normais, com vari√¢ncia constante e independentes (verificar com gr√°ficos de res√≠duos - sem padr√µes!).</li>
                            <li><span class="font-semibold">R¬≤ Ajustado:</span> Percentagem da varia√ß√£o de Y explicada por X‚ÇÅ e X‚ÇÇ <span class="italic">ajustada</span> pelo n√∫mero de vari√°veis. Prefer√≠vel ao R¬≤ simples em regress√£o m√∫ltipla. Quanto maior, melhor.</li>
                        </ul>
                         <div class="chart-container mt-6">
                            <canvas id="fitChart"></canvas>
                             <p class="text-center text-xs text-gray-500 mt-2">Gr√°fico ilustrativo: Valores Reais (Y) vs. Valores Previstos (≈∑). Pontos pr√≥ximos da linha diagonal indicam bom ajuste.</p>
                         </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="conclusao-final" class="section-container border-t pt-10">
            <h2 class="section-title">üí° Conclus√£o</h2>
            <p class="text-xl max-w-3xl mx-auto text-[#0077B6]">A Regress√£o M√∫ltipla com duas vari√°veis X permite modelar rela√ß√µes mais complexas, entendendo o efeito de cada fator enquanto se controla o outro. √â crucial seguir o processo, <span class="highlight">interpretar corretamente os coeficientes</span>, verificar a <span class="highlight">multicolinearidade</span>, testar a <span class="highlight">signific√¢ncia</span> e avaliar o <span class="highlight">ajuste do modelo</span> para garantir previs√µes confi√°veis.</p>
        </section>

    </main>

    <footer class="bg-[#0077B6] text-white text-center py-4 mt-12">
        <p class="text-sm">&copy; 2025 Infogr√°fico Estat√≠stico. Baseado no Cap√≠tulo 5 de "Estat√≠stica II Para Leigos".</p>
    </footer>

    <script>
        function wrapLabel(str, maxWidth) {
             if (str === null || str === undefined) return '';
             str = String(str);
             if (str.length <= maxWidth) return str;
             const words = str.split(' ');
             let lines = [];
             let currentLine = '';
             words.forEach(word => {
                 if ((currentLine + word).length <= maxWidth) {
                     currentLine += (currentLine === '' ? '' : ' ') + word;
                 } else {
                     lines.push(currentLine);
                     currentLine = word;
                 }
             });
             lines.push(currentLine);
             return lines;
        }

        const ctxFit = document.getElementById('fitChart').getContext('2d');

        // Sample data for y vs y-hat visualization
        const y_real = [3, 4.5, 5, 7, 6.5, 8, 9.5, 9, 11, 12, 10, 13, 14, 15.5, 16];
        const y_pred = [2.8, 4.2, 5.1, 6.8, 6.6, 8.2, 9.3, 9.1, 11.2, 11.8, 10.5, 13.1, 13.8, 15.2, 15.9];

        const fitData = y_real.map((val, index) => ({ x: y_pred[index], y: val }));
        const diagonalLine = [{x: Math.min(...y_pred, ...y_real), y: Math.min(...y_pred, ...y_real)}, {x: Math.max(...y_pred, ...y_real), y: Math.max(...y_pred, ...y_real)}];


        new Chart(ctxFit, {
            type: 'scatter',
            data: {
                datasets: [{
                    label: 'Pontos (Previsto vs. Real)',
                    data: fitData,
                    backgroundColor: '#00B4D8', // Palette Medium Blue
                    pointRadius: 5,
                    pointHoverRadius: 7,
                }, {
                    label: 'Linha de Ajuste Ideal (Y = ≈∂)',
                    data: diagonalLine,
                    borderColor: '#0077B6', // Palette Dark Blue
                    borderWidth: 2,
                    pointRadius: 0,
                    type: 'line',
                    borderDash: [5, 5], // Dashed line
                    fill: false,
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    x: {
                        type: 'linear',
                        position: 'bottom',
                        title: {
                            display: true,
                            text: 'Valores Previstos (≈∑)'
                        },
                         min: Math.min(...y_pred, ...y_real) * 0.9, // Adjust scale slightly
                         max: Math.max(...y_pred, ...y_real) * 1.1
                    },
                    y: {
                        beginAtZero: false, // Start near the minimum value
                        title: {
                            display: true,
                            text: 'Valores Reais (Y)'
                        },
                        min: Math.min(...y_pred, ...y_real) * 0.9,
                        max: Math.max(...y_pred, ...y_real) * 1.1
                    }
                },
                plugins: {
                    tooltip: {
                         enabled: true, // Keep tooltips enabled for scatter
                         callbacks: {
                            // Default title is fine ('Point') or customize
                            title: function(tooltipItems) {
                                // tooltipItems is an array, take the first item
                                const item = tooltipItems[0];
                                // Access the label using the item's datasetIndex and dataIndex
                                let label = item.chart.data.labels ? item.chart.data.labels[item.dataIndex] : `Ponto ${item.dataIndex + 1}`;
                                // Check if the label is an array (multiline)
                                if (Array.isArray(label)) {
                                // Join the array elements with a space for display
                                return label.join(' ');
                                } else {
                                // If it's a single line label, return it as is
                                return String(label); // Ensure it's a string
                                }
                            },
                            label: function(context) {
                                if (context.dataset.label.includes('Pontos')) {
                                     return `(Previsto: ${context.parsed.x.toFixed(1)}, Real: ${context.parsed.y.toFixed(1)})`;
                                }
                                return null; // Hide for the line
                            }
                        }
                    },
                    legend: {
                        display: false // Hide legend for this simple plot
                    }
                },
                 aspectRatio: 1 // Attempt to make it squarish
            }
        });
    </script>

</body>
</html>
