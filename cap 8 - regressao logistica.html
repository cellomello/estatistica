<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Infogr√°fico: Regress√£o Log√≠stica</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            scroll-behavior: smooth;
            background-color: #f7fafc; /* Light gray background */
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 350px; /* Adjusted height */
            max-height: 450px;
        }
        @media (max-width: 768px) {
            .chart-container {
                 height: 300px;
                 max-height: 400px;
            }
        }
        .material-card {
             background-color: white;
             border-radius: 0.75rem;
             box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
             padding: 1.5rem; /* p-6 */
             margin-bottom: 1.5rem; /* mb-6 */
             transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .material-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
        }
         .section-title {
            font-size: 2rem; /* text-3xl approx */
            font-weight: 700; /* font-bold */
            color: #118AB2; /* Palette Blue */
            margin-bottom: 2rem; /* mb-8 */
            text-align: center;
            padding-bottom: 0.75rem;
            border-bottom: 3px solid #FFD166; /* Palette Yellow */
            display: inline-block;
        }
        .section-container {
            text-align: center;
             margin-bottom: 4rem; /* mb-16 */
        }
        .highlight {
             color: #06D6A0; /* Palette Green */
             font-weight: 600;
        }
        .step-icon {
            font-size: 1.5rem;
            margin-right: 0.75rem;
            color: #118AB2; /* Palette Blue */
        }
        .flow-arrow {
            font-size: 1.5rem;
            color: #FFD166; /* Yellow arrow */
            margin: 0 0.5rem;
        }
        .flow-step {
            background-color: #FFF2D6; /* Very light yellow */
            padding: 0.75rem 1rem;
            border-radius: 0.5rem;
            display: inline-block;
            margin: 0.25rem;
            font-size: 0.9rem;
            color: #073B4C; /* Darkest color */
            border: 1px solid #FFD166;
        }
         .code-snippet {
            background-color: #f0fdf4; /* Very light green */
            padding: 0.5rem 1rem;
            border-radius: 0.375rem;
            font-family: monospace;
            font-size: 0.875rem;
            color: #073B4C; /* Darkest color */
            border-left: 3px solid #06D6A0; /* Green */
            margin-top: 0.5rem;
            display: block;
            overflow-x: auto;
            white-space: pre-wrap; /* Wrap long lines */
        }
        /* Palette: Energetic & Playful (#FF6B6B, #FFD166, #06D6A0, #118AB2, #073B4C) */
        /* Narrative Plan: 1. Intro (What/Why/When), 2. Model (S-Curve, Eq, Coeffs), 3. Process (Software), 4. Usage (Estimate p), 5. Evaluation (GoF, Sig X, Concordance), 6. Conclusion */
        /* Visualization Choices:
            - Section 1: Icons (‚úîÔ∏è/‚ùå, ü§î), Comparison table (HTML). Goal: Inform/Compare. Method: Unicode/HTML. NO SVG.
            - Section 2: Chart.js Line chart (S-curve). Goal: Inform/Relationships. Method: Chart.js Line (Canvas). Equation snippet. Icons (üìà/üìâ).
            - Section 3: Simple flow diagram. Goal: Organize. Method: HTML/CSS/Unicode Arrows (‚û°Ô∏è).
            - Section 4: Calculator icon (üßÆ), Example snippet. Goal: Inform. Method: Unicode/HTML.
            - Section 5: Checklist icons (‚úÖ/‚ùì). Chart.js Bar chart (Concordance). Goal: Inform/Compare. Method: Unicode/HTML + Chart.js Bar (Canvas).
            - Section 6: Lightbulb icon (üí°). Goal: Inform. Method: Unicode/HTML.
            - Overall: Strictly NO SVG, NO Mermaid. Charts via Canvas. Diagrams via HTML/CSS/Unicode. */
        /* Mermaid JS Not Used */
        /* SVG Not Used */
    </style>
</head>
<body class="bg-[#f7fafc] text-[#073B4C]">

    <header class="bg-[#118AB2] text-white py-6 shadow-lg sticky top-0 z-10">
        <div class="container mx-auto px-6 text-center">
            <h1 class="text-3xl md:text-4xl font-bold">Regress√£o Log√≠stica</h1>
            <p class="mt-2 text-lg text-[#ecfcff]">Prevendo Probabilidades: O Mundo do "Sim" ou "N√£o"</p>
        </div>
    </header>

    <main class="container mx-auto px-6 py-12">

        <section id="o-que-e" class="section-container">
            <h2 class="section-title">ü§î O Que √â & Quando Usar?</h2>
            <div class="material-card max-w-4xl mx-auto text-left space-y-4">
                <p>A <span class="highlight font-semibold">Regress√£o Log√≠stica</span> √© a sua ferramenta quando quer prever um resultado com apenas <span class="font-bold text-[#118AB2]">duas op√ß√µes</span> (bin√°rio), como:</p>
                <ul class="list-disc list-inside ml-4 text-sm space-y-1 text-[#073B4C]">
                    <li>Cliente Compra? (Sim <span class="text-[#06D6A0]">‚úîÔ∏è</span> / N√£o <span class="text-[#FF6B6B]">‚ùå</span>)</li>
                    <li>Paciente tem Complica√ß√£o? (Sim <span class="text-[#FF6B6B]">‚úîÔ∏è</span> / N√£o <span class="text-[#06D6A0]">‚ùå</span>)</li>
                    <li>Gosta do Filme? (Sim <span class="text-[#06D6A0]">‚úîÔ∏è</span> / N√£o <span class="text-[#FF6B6B]">‚ùå</span>)</li>
                </ul>
                <p>O objetivo √© estimar a <span class="highlight font-semibold">probabilidade (p)</span> de que o evento ("Sim") ocorra, com base em vari√°veis preditoras (X), geralmente num√©ricas (como idade, dose, etc.).</p>

                <h3 class="font-semibold text-lg pt-2 text-[#118AB2]">Por que n√£o Regress√£o Linear?</h3>
                 <div class="overflow-x-auto">
                    <table class="w-full text-sm text-left border border-[#FFD166]">
                        <thead class="bg-[#FFF2D6] border-b border-[#FFD166]">
                            <tr>
                                <th class="px-4 py-2">Caracter√≠stica</th>
                                <th class="px-4 py-2">Regress√£o Linear</th>
                                <th class="px-4 py-2">Regress√£o Log√≠stica</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="border-b border-[#FFD166]">
                                <td class="px-4 py-2 font-medium">Vari√°vel Resposta (Y)</td>
                                <td class="px-4 py-2">Num√©rica Cont√≠nua</td>
                                <td class="px-4 py-2 font-bold text-[#118AB2]">Categ√≥rica Bin√°ria (0/1)</td>
                            </tr>
                            <tr class="border-b border-[#FFD166]">
                                <td class="px-4 py-2 font-medium">Previs√£o</td>
                                <td class="px-4 py-2">Valor de Y</td>
                                <td class="px-4 py-2 font-bold text-[#118AB2]">Probabilidade (p) entre 0 e 1</td>
                            </tr>
                            <tr>
                                <td class="px-4 py-2 font-medium">Forma da Rela√ß√£o</td>
                                <td class="px-4 py-2">Linha Reta</td>
                                <td class="px-4 py-2 font-bold text-[#118AB2]">Curva-S (Log√≠stica)</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </section>

        <section id="modelo-curva-s" class="section-container">
            <h2 class="section-title"> S A Magia da Curva-S</h2>
             <p class="text-center text-lg mb-8 max-w-3xl mx-auto">Para garantir que a probabilidade prevista (`pÃÇ`) fique sempre entre 0 e 1, a regress√£o log√≠stica usa a fun√ß√£o log√≠stica, que desenha uma curva em forma de S.</p>
            <div class="material-card max-w-4xl mx-auto">
                 <div class="chart-container mb-6">
                    <canvas id="sCurveChart"></canvas>
                </div>
                <p class="text-center text-xs text-gray-500 mb-4">A curva-S mapeia qualquer valor de X para uma probabilidade entre 0 e 1.</p>
                <h3 class="font-semibold text-lg mb-2 text-[#118AB2] text-left">A Equa√ß√£o (com 1 preditor X):</h3>
                <code class="code-snippet">pÃÇ = e^(Œ≤‚ÇÄ + Œ≤‚ÇÅX) / (1 + e^(Œ≤‚ÇÄ + Œ≤‚ÇÅX))</code>
                 <p class="text-left mt-4"><span class="font-bold">Coeficientes Chave:</span></p>
                <ul class="list-disc list-inside ml-4 text-sm space-y-1 text-left">
                     <li><span class="font-bold text-[#118AB2]">Œ≤‚ÇÅ (Coeficiente de X):</span> O <span class="font-bold">sinal</span> indica a dire√ß√£o:</li>
                     <li class="ml-4"> Positivo (<span class="text-[#06D6A0] font-bold">+</span>): Maior X leva a maior probabilidade `pÃÇ` üìà</li>
                     <li class="ml-4"> Negativo (<span class="text-[#FF6B6B] font-bold">-</span>): Maior X leva a menor probabilidade `pÃÇ` üìâ</li>
                     <li><span class="font-bold text-[#118AB2]">Œ≤‚ÇÄ (Intercepto):</span> Relacionado √† probabilidade base quando X=0.</li>
                </ul>
            </div>
        </section>

        <section id="processo" class="section-container">
            <h2 class="section-title">‚öôÔ∏è Obtendo o Modelo</h2>
            <div class="material-card max-w-4xl mx-auto text-left">
                <p class="mb-4">Encontrar os melhores coeficientes (`b‚ÇÄ`, `b‚ÇÅ` - estimativas de `Œ≤‚ÇÄ`, `Œ≤‚ÇÅ`) √© complexo e geralmente feito com software estat√≠stico (como Minitab).</p>
                <div class="flex flex-col md:flex-row items-center justify-center space-y-2 md:space-y-0 md:space-x-2 text-center">
                    <div class="flow-step">1. Dados<br>(X, Sucessos, Tentativas) üíæ</div>
                    <div class="flow-arrow">‚û°Ô∏è</div>
                    <div class="flow-step">2. Software Estat√≠stico<br>(Ex: Minitab) üíª</div>
                    <div class="flow-arrow">‚û°Ô∏è</div>
                    <div class="flow-step">3. Sa√≠da<br>(Coeficientes `b‚ÇÄ`, `b‚ÇÅ`, Testes, Ajuste) üìÑ</div>
                </div>
                <p class="mt-4 text-sm italic">A sa√≠da do software fornece os 'ingredientes' para construir e avaliar o seu modelo.</p>
            </div>
        </section>

        <section id="usando-modelo" class="section-container">
            <h2 class="section-title">üßÆ Usando o Modelo para Prever</h2>
            <div class="material-card max-w-4xl mx-auto text-left">
                <p>Depois de obter os coeficientes estimados (`b‚ÇÄ`, `b‚ÇÅ`) do software, construa a equa√ß√£o do seu modelo ajustado:</p>
                <code class="code-snippet">pÃÇ = e^(b‚ÇÄ + b‚ÇÅX) / (1 + e^(b‚ÇÄ + b‚ÇÅX))</code>
                <p class="mt-4">Para estimar a probabilidade (`pÃÇ`) para um <span class="highlight">valor espec√≠fico de X</span>, basta substitu√≠-lo na equa√ß√£o e calcular.</p>
                <p class="mt-3 font-semibold text-[#118AB2]">Exemplo (Gostar do Filme vs Idade):</p>
                <p class="text-sm">Se o software deu `b‚ÇÄ = 4.87` e `b‚ÇÅ = -0.18`:</p>
                <p class="text-sm">Para uma pessoa com <span class="font-bold">X = 15 anos</span>:</p>
                <code class="code-snippet">pÃÇ = e^(4.87 - 0.18 * 15) / (1 + e^(4.87 - 0.18 * 15))<br>pÃÇ = e^(2.17) / (1 + e^(2.17))<br>pÃÇ ‚âà 8.76 / (1 + 8.76) ‚âà 0.90</code>
                <p class="mt-2 text-sm">‚û°Ô∏è A probabilidade estimada de algu√©m com 15 anos gostar do filme √© <span class="font-bold text-[#06D6A0]">~90%</span>.</p>
            </div>
        </section>

        <section id="avaliar-ajuste" class="section-container">
            <h2 class="section-title">‚úÖ‚ùì Avaliando o Ajuste do Modelo</h2>
            <p class="text-center text-lg mb-8 max-w-3xl mx-auto">O modelo √© bom? Verifique estes pontos na sa√≠da do software:</p>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl mx-auto text-left">
                <div class="material-card">
                    <h3 class="font-semibold text-lg mb-2 flex items-center"><span class="step-icon">‚úÖ</span>Teste de Qualidade de Ajuste (GoF)</h3>
                    <p class="text-sm">Geralmente um teste Qui-Quadrado. <span class="font-bold text-[#06D6A0]">Valor-p GRANDE (> 0.05)</span> sugere que o modelo se ajusta bem aos dados (N√£o rejeitamos H‚ÇÄ: Modelo ajusta).</p>
                </div>
                <div class="material-card">
                    <h3 class="font-semibold text-lg mb-2 flex items-center"><span class="step-icon">‚úÖ</span>Signific√¢ncia de X</h3>
                    <p class="text-sm">Verifique o valor-p associado ao coeficiente `b‚ÇÅ`. <span class="font-bold text-[#06D6A0]">Valor-p PEQUENO (< 0.05)</span> sugere que X √© um preditor √∫til (Rejeitamos H‚ÇÄ: Coeficiente = 0).</p>
                </div>
                <div class="material-card">
                    <h3 class="font-semibold text-lg mb-2 flex items-center"><span class="step-icon">‚úÖ</span>Pares Concordantes</h3>
                    <p class="text-sm">Percentagem de vezes que a previs√£o do modelo concorda com o resultado real. <span class="font-bold text-[#06D6A0]">Percentagem ALTA (> 80%)</span> √© bom.</p>
                </div>
            </div>
            <div class="material-card max-w-lg mx-auto mt-8">
                 <h3 class="font-semibold text-lg mb-4 text-[#118AB2] text-center">Visualizando Concord√¢ncia</h3>
                <div class="chart-container h-64 max-h-80">
                    <canvas id="concordanceChart"></canvas>
                </div>
                <p class="text-center text-xs text-gray-500 mt-2">Exemplo: Alta percentagem de pares concordantes indica bom poder preditivo.</p>
            </div>
        </section>

        <section id="conclusao-final" class="section-container border-t pt-10 mt-10">
            <h2 class="section-title">üí° Conclus√£o</h2>
            <p class="text-xl max-w-3xl mx-auto text-[#073B4C]">A <span class="highlight font-semibold">Regress√£o Log√≠stica</span> √© essencial para modelar a probabilidade de resultados <span class="font-bold text-[#118AB2]">bin√°rios</span> (Sim/N√£o). Usando a <span class="highlight">curva-S</span>, ela fornece estimativas de probabilidade v√°lidas (0 a 1) baseadas em preditores. Lembre-se de usar software para o ajuste e avaliar cuidadosamente a <span class="font-bold text-[#118AB2]">qualidade do modelo</span> antes de confiar nas suas previs√µes!</p>
        </section>

    </main>

    <footer class="bg-[#118AB2] text-white text-center py-4 mt-12">
        <p class="text-sm text-[#ecfcff]">&copy; 2025 Infogr√°fico Estat√≠stico. Baseado no Cap√≠tulo 8 de "Estat√≠stica II Para Leigos".</p>
    </footer>

    <script>
        // Helper function for label wrapping (not strictly needed here but good practice)
        function wrapLabel(str, maxWidth) {
           if (str === null || str === undefined) return '';
           str = String(str);
           if (str.length <= maxWidth) return str;
           const words = str.split(' ');
           let lines = [];
           let currentLine = '';
           words.forEach(word => {
               if ((currentLine + word).length <= maxWidth) {
                   currentLine += (currentLine === '' ? '' : ' ') + word;
               } else {
                   lines.push(currentLine);
                   currentLine = word;
               }
           });
           lines.push(currentLine);
           return lines;
        }

       // Tooltip callback
       const tooltipTitleCallback = (tooltipItems) => {
           const item = tooltipItems[0];
           let label = item.chart.data.labels[item.dataIndex];
           if (Array.isArray(label)) {
             return label.join(' ');
           } else {
             return String(label); // Ensure string
           }
       };

        // --- Chart 1: S-Curve ---
        const ctxSCurve = document.getElementById('sCurveChart').getContext('2d');
        // Generate points for an S-curve: p = e^(b0 + b1*x) / (1 + e^(b0 + b1*x))
        // Example: b0 = -2, b1 = 0.5 (Starts low, increases)
        const sCurveData = [];
        const b0_s = -2; // Intercept example
        const b1_s = 0.5; // Slope example (positive)
        for (let x = -10; x <= 10; x += 0.5) {
            const linearPart = b0_s + b1_s * x;
            const probability = Math.exp(linearPart) / (1 + Math.exp(linearPart));
            sCurveData.push({x: x, y: probability});
        }

        new Chart(ctxSCurve, {
            type: 'line',
            data: {
                datasets: [{
                    label: 'Probabilidade Estimada (pÃÇ)',
                    data: sCurveData,
                    borderColor: '#06D6A0', // Green
                    borderWidth: 3,
                    fill: false,
                    pointRadius: 0,
                    tension: 0.1 // Smooth curve
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    x: {
                        type: 'linear',
                        position: 'bottom',
                        title: { display: true, text: 'Vari√°vel Preditora (X)' }
                    },
                    y: {
                        title: { display: true, text: 'Probabilidade Estimada (pÃÇ)' },
                        min: 0,
                        max: 1 // Ensure Y-axis is 0 to 1
                    }
                },
                plugins: {
                    tooltip: {
                         callbacks: {
                            // Format tooltip for scatter-like line chart
                            title: function(context) { return `X = ${context[0].raw.x.toFixed(2)}`; },
                            label: function(context) { return `pÃÇ = ${context.raw.y.toFixed(3)}`; }
                        }
                    },
                    legend: { display: true, position: 'bottom' }
                }
            }
        });

        // --- Chart 2: Concordance Bar Chart ---
        const ctxConcordance = document.getElementById('concordanceChart').getContext('2d');
        // Example data
        const concordanceData = {
            concordant: 87.3,
            discordant: 10.2,
            tied: 2.5
        };

        new Chart(ctxConcordance, {
            type: 'bar',
            data: {
                labels: ['Concordantes', 'Discordantes', 'Empatados'],
                datasets: [{
                    label: 'Percentagem de Pares',
                    data: [concordanceData.concordant, concordanceData.discordant, concordanceData.tied],
                    backgroundColor: [
                        '#06D6A0', // Green for Concordant
                        '#FF6B6B', // Red for Discordant
                        '#FFD166'  // Yellow for Tied
                    ],
                    borderColor: [
                        '#06D6A0',
                        '#FF6B6B',
                        '#FFD166'
                    ],
                    borderWidth: 1
                }]
            },
            options: {
                indexAxis: 'y', // Horizontal bars
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    x: {
                        beginAtZero: true,
                        max: 100,
                        title: { display: true, text: 'Percentagem (%)' }
                    },
                    y: {
                        grid: { display: false }
                    }
                },
                plugins: {
                     tooltip: {
                         callbacks: {
                             title: tooltipTitleCallback,
                             label: function(context) {
                                let label = context.dataset.label || '';
                                if (label) {
                                    label += ': ';
                                }
                                if (context.parsed.x !== null) {
                                    label += context.parsed.x.toFixed(1) + '%';
                                }
                                return label;
                            }
                        }
                    },
                    legend: { display: false } // No legend needed for single dataset
                }
            }
        });

    </script>

</body>
</html>
